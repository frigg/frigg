{% extends "base.html" %}
{% load i18n %}

{% block js %}
  <script src="{{ STATIC_URL }}js/ansi_up.js"></script>
  <script src="{{ STATIC_URL }}js/colorify.js"></script>
{% endblock js %}

{% block content %}
  <div class="pure-u-1">
    <h3>
      {{ build.project.owner }} / {{ build.project.name }} / {{ build.branch }}
      <a href="{{ build.pull_request_url }}" class="no-underline"><i class="fa fa-github"></i></a>
    </h3>
    <strong>Branch:</strong> {{ build.branch }} <br/>
    <strong>Commit hash:</strong> {{ build.sha }} <br/>
    <strong>State:</strong>
    {% if not build.result %}
      {% trans 'pending' %}
    {% elif build.result.succeeded %}
      {% trans 'success' %}
    {% else %}
      {% trans 'failure' %}
    {% endif %}
  </div>

  <div class="pure-u-1">
    {% if build.is_pending %}
      {% include "builds/partials/loading.html" %}
    {% else %}
      <pre><code class="colorify">{{ build.result.result_log }}</code></pre>
    {% endif %}
  </div>
{% endblock %}
